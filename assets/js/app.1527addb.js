(function(t){function e(e){for(var s,o,i=e[0],c=e[1],l=e[2],u=0,d=[];u<i.length;u++)o=i[u],a[o]&&d.push(a[o][0]),a[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);f&&f(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,o=1;o<n.length;o++){var i=n[o];0!==a[i]&&(s=!1)}s&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var s={},o={app:0},a={app:0},r=[];function i(t){return c.p+"assets/js/"+({}[t]||t)+"."+{"chunk-073d0637":"a3d8f474","chunk-09c202d9":"010a4f5a","chunk-2d0b8aff":"6cac2883","chunk-0f220de7":"2539a9b0","chunk-3fe3005c":"7b921cb9","chunk-2d22d251":"b541e80d","chunk-379163b6":"9f42a207","chunk-3ab4828a":"6dfa5d2c","chunk-41cc1cba":"c43d619a","chunk-731a4d73":"7fe2e6b0","chunk-747a3a68":"eeb132b0","chunk-e87c22c8":"4d39e10d"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-073d0637":1,"chunk-09c202d9":1,"chunk-0f220de7":1,"chunk-3fe3005c":1,"chunk-379163b6":1,"chunk-3ab4828a":1,"chunk-41cc1cba":1,"chunk-731a4d73":1,"chunk-747a3a68":1,"chunk-e87c22c8":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise(function(e,n){for(var s="assets/css/"+({}[t]||t)+"."+{"chunk-073d0637":"534e36cf","chunk-09c202d9":"5bc0f4e5","chunk-2d0b8aff":"31d6cfe0","chunk-0f220de7":"25a597b2","chunk-3fe3005c":"dc26e45d","chunk-2d22d251":"31d6cfe0","chunk-379163b6":"efc1a378","chunk-3ab4828a":"c2c48e7a","chunk-41cc1cba":"f7346cab","chunk-731a4d73":"2bb218bf","chunk-747a3a68":"5f27cb0e","chunk-e87c22c8":"0e433876"}[t]+".css",a=c.p+s,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var l=r[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===a))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===s||u===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var s=e&&e.target&&e.target.src||a,r=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=s,delete o[t],f.parentNode.removeChild(f),n(r)},f.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(f)}).then(function(){o[t]=0}));var s=a[t];if(0!==s)if(s)e.push(s[2]);else{var r=new Promise(function(e,n){s=a[t]=[e,n]});e.push(s[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t),l=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=a[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+s+": "+o+")");r.type=s,r.request=o,n[1](r)}a[t]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(n,s,function(e){return t[e]}.bind(null,s));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/meituan-app/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0950":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.closeHeader?t._e():n("header",{staticClass:"header"},[t._t("header")],2),n("main",{staticClass:"main",on:{scroll:t.handleScroll}},[t._t("default")],2),t.closeTabbar?t._e():n("footer",{staticClass:"footer"},[t._t("footer",[n("Tabbar")])],2)])},o=[],a=n("cebc"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"footer-inner"},[n("ul",{staticClass:"footer-nav"},t._l(t.footerNavs,function(e,s){return n("router-link",{key:s,staticClass:"footer-nav-item",attrs:{tag:"li",to:e.route,"active-class":"footer-nav-item--active"}},[n("a",{staticClass:"item-link"},[n("div",{staticClass:"item-image"},[n("i",{class:["iconfont",e.icon]})]),n("div",{staticClass:"item-label"},[t._v(t._s(e.label))])])])}),1)])},i=[],c={name:"Tabbar",data:function(){return{itemIndex:0,footerNavs:[{icon:"icon-0401zhuye",label:"首页",route:"/home"},{icon:"icon-eye",label:"发现",route:"/find"},{icon:"icon-order",label:"订单",route:"/order"},{icon:"icon-minefill",label:"我的",route:"/mine"}]}}},l=c,u=(n("1fe7"),n("2877")),d=Object(u["a"])(l,r,i,!1,null,null,null),f=d.exports,p=n("2f62"),h={name:"TheLayout",components:{Tabbar:f},props:{closeHeader:{type:Boolean,default:!1},closeTabbar:{type:Boolean,default:!1}},data:function(){return{}},computed:Object(a["a"])({},Object(p["e"])("scroll",{scrollTop:function(t){return t.scrollTop}})),methods:Object(a["a"])({},Object(p["d"])("scroll",["setScrollTop"]),{handleScroll:function(t){this.setScrollTop(t.target.scrollTop)}})},b=h,m=(n("8b7b"),Object(u["a"])(b,s,o,!1,null,null,null));e["a"]=m.exports},"1bcf":function(t,e,n){"use strict";var s={getSession:function(t){if("undefined"!==typeof Storage||"string"!=typeof t){var e=sessionStorage.getItem(t);try{e=JSON.parse(e)}catch(n){console.log(n)}return e}return!1},setSession:function(t,e){return("undefined"!==typeof Storage||"string"!=typeof t)&&(sessionStorage.setItem(t,JSON.stringify(e)),!0)},removeSession:function(t){return("undefined"!==typeof Storage||"string"!=typeof t)&&(sessionStorage.removeItem(t),!0)},clearSession:function(){return"undefined"!==typeof Storage&&(sessionStorage.clear(),!0)}};e["a"]=s},"1fe7":function(t,e,n){"use strict";var s=n("4812"),o=n.n(s);o.a},"274d":function(t,e,n){t.exports=n.p+"assets/img/banner-mid-1.344c3ca7.png"},"298d":function(t,e,n){t.exports=n.p+"assets/img/banner-mid-4.48e88ae0.png"},"2b35":function(t,e,n){},4812:function(t,e,n){},"4a82":function(t,e,n){},"4d04":function(t,e,n){"use strict";var s=n("2b35"),o=n.n(s);o.a},"522b":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1)],1)},a=[],r=n("2877"),i={},c=Object(r["a"])(i,o,a,!1,null,null,null),l=c.exports,u=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Layout",{scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"search_box"},[n("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)]},proxy:!0}])},[n("div",{staticClass:"home-content"},[n("section",{staticClass:"banner"},[0!=t.banners.length?n("swiper",{ref:"mySwiper",staticClass:"swiper-wrapper",attrs:{options:t.swiperOption}},[t._l(t.banners,function(t,e){return n("swiper-slide",{key:e},[n("router-link",{attrs:{to:t.link}},[n("img",{attrs:{src:t.src,alt:t.alt}})])],1)}),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):t._e()],1),n("section",{staticClass:"types-wrapper"},[n("ul",{staticClass:"types"},[t._l(t.types,function(e){return n("router-link",{key:e.label,staticClass:"types-item",attrs:{tag:"li",to:e.route}},[n("a",[n("div",{staticClass:"image",style:{"background-color":e.bgcolor}},[n("i",{class:["iconfont",e.icon]})]),n("div",{staticClass:"label"},[t._v(t._s(e.label))])])])}),t._l(3,function(t){return n("li",{key:t,staticClass:"empty"})})],2)]),n("Shopslist")],1)])},f=[],p=n("0950"),h=n("8b0f"),b=n("7212"),m=(n("dfa4"),{name:"Home",components:{Layout:p["a"],Shopslist:h["a"],swiper:b["swiper"],swiperSlide:b["swiperSlide"]},data:function(){return{input:"",swiperOption:{autoplay:!0,delay:1e3,loop:!0,pagination:{el:".swiper-pagination"}},banners:[{src:n("274d"),link:"#",alt:"图片1"},{src:n("6df0"),link:"#",alt:"图片2"},{src:n("fab7"),link:"#",alt:"图片3"},{src:n("298d"),link:"#",alt:"图片4"}],types:[{icon:"icon-meishi",label:"美食",route:"/shops-list",bgcolor:"#fe6e73"},{icon:"icon-chaoshi",label:"美团超市",route:"/shops-list",bgcolor:"#7cacfb"},{icon:"icon-fruits",label:"生鲜果蔬",route:"/shops-list",bgcolor:"#91df62"},{icon:"icon-hedrink46",label:"甜点饮品",route:"/shops-list",bgcolor:"#f774d4"},{icon:"icon-youxuan",label:"正餐优选",route:"/shops-list",bgcolor:"#ffaf56"},{icon:"icon-bike",label:"美团专送",route:"/shops-list",bgcolor:"#fecf64"},{icon:"icon-canpinhui-xican",label:"能量西餐",route:"/shops-list",bgcolor:"#ffaf56"},{icon:"icon-xiaochi",label:"精品小吃",route:"/shops-list",bgcolor:"#5cd4e0"}]}}}),g=m,v=(n("bab0"),Object(r["a"])(g,d,f,!1,null,null,null)),y=v.exports,k=n("2f62"),_=n("4f49"),S=n.n(_),C=n("7f43"),O=n.n(C),w={user:{},userPhone:"",password:""},j={},T={setUser:function(t,e){var n=e.user;t.user=n},setUserPhone:function(t,e){t.userPhone=e},setPassword:function(t,e){t.password=e}},x={getLocalUphone:function(t){var e=t.commit,n=S.a.get("userPhone");e("setUserPhone",n)},getUser:function(t){var e=t.commit,n=t.state;O.a.post("/api/users",{userPhone:n.userPhone}).then(function(t){e("setUser",{user:t.data.user})}).catch(function(t){return console.log(t)})}},P={namespaced:!0,state:w,getters:j,mutations:T,actions:x},I=n("1bcf"),E={orders:[],orderState:"全部"},L={ordersFilter:function(t){return"全部"===t.orderState?t.orders:t.orders.filter(function(e){return e.orderState===t.orderState})}},A={setOrders:function(t,e){t.orders=e},setOrderState:function(t,e){t.orderState=e},getOrderState:function(t){var e=I["a"].getSession("orderState");e&&(t.orderState=e)}},N={getOrders:function(t){var e=t.commit,n=t.state;O.a.post("/api/order-list",{orderState:n.orderState}).then(function(t){e("setOrders",t.data)}).catch(function(t){return console.log(t)})}},$={namespaced:!0,state:E,getters:L,mutations:A,actions:N},U={scrollTop:0},q={setScrollTop:function(t,e){t.scrollTop=e}},F={},B={namespaced:!0,state:U,mutations:q,actions:F},M=n("75fc"),R={obj:{},type:"tuijian"},H={findsFilter:function(t){return t.obj[t.type]}},J={setObj:function(t,e){t.obj=e},addObj:function(t,e){t.obj[t.type]=e},setType:function(t,e){t.type=e}},D={requestFinds:function(t){var e=t.commit,n=t.state;!n.obj[n.type].length>0&&O.a.post("/api/findlist",{type:n.type}).then(function(t){e("addObj",t.data)}).catch(function(t){throw t})},loadMore:function(t){var e=t.commit,n=t.state,s=n.obj[n.type].concat();O.a.post("/api/findlist",{type:n.type}).then(function(t){s.push.apply(s,Object(M["a"])(t.data)),e("addObj",s)}).catch(function(t){throw t})}},G={namespaced:!0,state:R,getters:H,mutations:J,actions:D},z=(n("55dd"),n("ca00")),K={shops:[],type:"全部美食",location:"全城",service:"全部筛选",sortType:"智能排序"},Q={sortShops:function(t){var e=[];switch(e.push.apply(e,Object(M["a"])(t.shops)),t.sortType){case"智能排序":return t.shops;case"离我最近":return e.sort(Object(z["a"])("distance"));case"好评优先":return e.sort(Object(z["a"])("storeRank",-1));case"销量最高":return e.sort(Object(z["a"])("storeSales",-1));default:return t.shops}},filterShops:function(t,e){return e.sortShops.filter(function(e){return(-1!==e.storeTypes.indexOf(t.type)||"全部美食"===t.type)&&(e.storeLocation===t.location||"全城"===t.location)&&(-1!==e.storeServices.indexOf(t.service)||"全部筛选"===t.service)})}},V={setShops:function(t,e){t.shops=e},setType:function(t,e){t.type=e},setLocation:function(t,e){t.location=e},setService:function(t,e){t.service=e},setSorttype:function(t,e){t.sortType=e}},W={requestShops:function(t){var e=t.commit;O.a.post("/api/shops-list").then(function(t){e("setShops",t.data)}).catch(function(t){return console.log(t)})}},X={namespaced:!0,state:K,getters:Q,mutations:V,actions:W},Y={goods:[],seller:[],ratings:[],foodsInCart:[]},Z={},tt={setSeller:function(t,e){t.seller=e},setGoods:function(t,e){t.goods=e},setRatings:function(t,e){t.ratings=e},setFoodsInCart:function(t,e){t.foodsInCart=e}},et={requestStoreData:function(t,e){var n=t.commit;O.a.post("/api/store",{storeId:e}).then(function(t){n("setSeller",t.data.seller),n("setGoods",t.data.goods),n("setRatings",t.data.ratings)}).catch(function(t){return console.error(t)})}},nt={namespaced:!0,state:Y,getters:Z,mutations:tt,actions:et};s["default"].use(k["a"]);var st=new k["a"].Store({modules:{login:P,order:$,find:G,scroll:B,shops:X,store:nt}});s["default"].use(u["a"]);var ot=new u["a"]({mode:"history",base:"/meituan-app/",routes:[{path:"/",redirect:"/home"},{path:"/home",alias:"/",name:"home",component:y},{path:"/shops-list",name:"shops-list",component:function(){return Promise.all([n.e("chunk-2d0b8aff"),n.e("chunk-3fe3005c")]).then(n.bind(null,"91e3"))}},{path:"/store/:id",name:"store",component:function(){return Promise.all([n.e("chunk-2d0b8aff"),n.e("chunk-0f220de7")]).then(n.bind(null,"d79e"))}},{path:"/goods-details/:id",name:"goods-details",component:function(){return n.e("chunk-e87c22c8").then(n.bind(null,"b262"))}},{path:"/find",name:"find",component:function(){return n.e("chunk-3ab4828a").then(n.bind(null,"fcd9"))},children:[{path:"/find/:type",component:function(){return n.e("chunk-073d0637").then(n.bind(null,"24b1"))}}]},{path:"/order",name:"order",component:function(){return n.e("chunk-379163b6").then(n.bind(null,"6443"))},meta:{loginAuth:!0},children:[{path:"/order/:orderState",component:function(){return n.e("chunk-2d22d251").then(n.bind(null,"f5f2"))}}]},{path:"/mine",name:"mine",component:function(){return n.e("chunk-09c202d9").then(n.bind(null,"587f"))},meta:{loginAuth:!0}},{path:"/login",name:"login",component:function(){return n.e("chunk-731a4d73").then(n.bind(null,"f1cd"))}},{path:"/login/inputAuthcode",name:"inputAuthcode",component:function(){return n.e("chunk-41cc1cba").then(n.bind(null,"f205"))}},{path:"/notlogin",name:"notlogin",component:function(){return n.e("chunk-747a3a68").then(n.bind(null,"d760"))}}]});ot.beforeEach(function(t,e,n){var s=t.fullPath;switch(S.a.get("userPhone")&&st.dispatch("login/getLocalUphone"),s){case"/order":st.state.login.userPhone?n("/order/".concat(st.state.order.orderState)):n();break;default:n()}});var at=ot,rt=(n("522b"),n("5c96"));n("0fae");s["default"].use(rt["Button"]),s["default"].use(rt["Input"]),s["default"].use(rt["Icon"]),s["default"].use(rt["Rate"]),s["default"].prototype.$message=rt["Message"],s["default"].use(rt["Loading"].directive),s["default"].prototype.$loading=rt["Loading"].service,s["default"].use(S.a),s["default"].config.productionTip=!1,new s["default"]({router:at,store:st,render:function(t){return t(l)}}).$mount("#app")},"6cd9":function(t,e,n){},"6df0":function(t,e,n){t.exports=n.p+"assets/img/banner-mid-2.e2731be8.jpeg"},"8b0f":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"shops-list"},[n("ul",{staticClass:"shops_list"},t._l(t.filterShops,function(t){return n("li",{key:t.storeId,staticClass:"shops_list-item"},[n("ShopslistItem",{attrs:{store:t}})],1)}),0)])},o=[],a=n("cebc"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"shops_list-item-link",attrs:{to:"/store/"+t.store.storeId}},[n("div",{staticClass:"shops_list-image"},[n("img",{attrs:{src:t.store.storeImage}})]),n("div",{staticClass:"shops_list-details"},[n("div",{staticClass:"module-header"},[n("h2",{staticClass:"shops_list-details-title"},[t._v(t._s(t.store.storeName)+"-"+t._s(t.store.distance)+"-"+t._s(t.store.storeRank)+"-"+t._s(t.store.storeSales))]),n("div",{staticClass:"flex"},[n("ul",{staticClass:"shops_list-details-stars"},t._l(5,function(e){return n("li",{key:e,staticClass:"star iconfont icon-star",class:{"star--active":t.store.storeRank>=e}})}),0),n("div",{staticClass:"shops_list-details-cost"},[t._v("¥"+t._s(t.store.costPerCapital)+"/人")])]),n("div",{staticClass:"module-row-space_between"},[n("ul",{staticClass:"shops_list-details-types"},t._l(t.store.storeTypes,function(e,s){return n("li",{key:s,staticClass:"item"},[t._v(t._s(e))])}),0),n("span",{staticClass:"shops_list-details-popularity"},[t._v("当前人气"+t._s(t.store.storePopularity))])])]),n("ul",{staticClass:"shops_list-details-labels module-row"},t._l(t.store.storeLabels,function(e,s){return n("li",{key:s,staticClass:"item",class:{"label--active":e.isActive}},[t._v(t._s(e.label))])}),0),t.store.groupPurchaseInfo?n("div",{staticClass:"module-row"},[n("span",{staticClass:"item group-logo"},[t._v("团")]),n("span",[t._v(t._s(t.store.groupPurchaseInfo))])]):t._e(),t.store.discountInfo?n("div",{staticClass:"module-row"},[n("span",{staticClass:"item discount-logo"},[t._v("券")]),n("span",[t._v(t._s(t.store.discountInfo))])]):t._e()])])},i=[],c={name:"ShopslistItem",data:function(){return{}},props:{store:{type:Object,default:{}}}},l=c,u=(n("4d04"),n("2877")),d=Object(u["a"])(l,r,i,!1,null,null,null),f=d.exports,p=n("2f62"),h={name:"ShopList",components:{ShopslistItem:f},data:function(){return{}},computed:Object(a["a"])({},Object(p["c"])("shops",["filterShops"])),methods:Object(a["a"])({},Object(p["b"])("shops",["requestShops"])),created:function(){this.requestShops()}},b=h,m=(n("ce6d"),Object(u["a"])(b,s,o,!1,null,null,null));e["a"]=m.exports},"8b7b":function(t,e,n){"use strict";var s=n("4a82"),o=n.n(s);o.a},bab0:function(t,e,n){"use strict";var s=n("6cd9"),o=n.n(s);o.a},ca00:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n,s){var o=parseFloat(n[t]),a=parseFloat(s[t]);return o<a?1===e?-1:1:o>a?1===e?1:-1:0}}},ce6d:function(t,e,n){"use strict";var s=n("de7a"),o=n.n(s);o.a},de7a:function(t,e,n){},fab7:function(t,e,n){t.exports=n.p+"assets/img/banner-mid-3.13ddfcaa.jpeg"}});
//# sourceMappingURL=app.1527addb.js.map