{"version":3,"sources":["webpack:///./src/components/base/LoginInputAuthcode.vue?341e","webpack:///./src/components/base/LoginInputAuthcode.vue?05a7","webpack:///src/components/base/LoginInputAuthcode.vue","webpack:///./src/components/base/LoginInputAuthcode.vue?0ed1","webpack:///./src/components/base/LoginInputAuthcode.vue","webpack:///./src/mixins/loginAuthcode.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LoginInputAuthcode_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LoginInputAuthcode_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","on","click","$event","$router","go","attrs","to","_v","_s","authCode","userPhone","type","maxlength","domProps","keyup","inputAuthcode","input","target","composing","second","popupAuthcodePop","currentTarget","closeAuthcodePop","getAuthcodeAgain","getAuthcdeByPhone","staticRenderFns","LoginInputAuthcodevue_type_script_lang_js_","mixins","loginAuthcode","data","loading","authcodePopShow","timer","redirect","computed","Object","objectSpread","vuex_esm","state","methods","_initAuthInfo","fetchSesstionStorage","parseInt","Date","getTime","startTime","countDown","_this","setInterval","window","clearInterval","_this2","length","_axios_0_18_0_axios_default","a","post","then","res","code","console","log","$cookie","set","push","$message","error","catch","err","finally","_this3","requestAuthcode","saveAuthInfo","created","beforeRouteLeave","from","next","$destroy","base_LoginInputAuthcodevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","mixin","context","keyValue","sessionStorage","setItem","JSON","stringify","cb","errcb","finallycb","axios","get","authcodeReady","key","parse","getItem"],"mappings":"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","file":"assets/js/chunk-41cc1cba.c43d619a.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginInputAuthcode.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginInputAuthcode.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"login-input_authcode\"},[_c('header',{staticClass:\"login-input_authcode-header\"},[_c('div',{staticClass:\"login-close iconfont icon-back-m\",on:{\"click\":function($event){return _vm.$router.go(-1)}}}),_c('router-link',{attrs:{\"to\":\"/help\"}},[_vm._v(\"帮助\")])],1),_c('div',{staticClass:\"login-input_authcode-main\"},[_c('p',{staticClass:\"login-input_authcode-main-title\"},[_vm._v(\"输入验证码 (\"+_vm._s(_vm.authCode)+\")\")]),_c('div',{staticClass:\"input_authcode\"},[_c('p',{staticClass:\"input_authcode-tips\"},[_vm._v(\"验证码已发送至 \"+_vm._s(_vm.userPhone))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input),expression:\"input\"}],staticClass:\"input_authcode-input\",attrs:{\"type\":\"text\",\"maxlength\":\"4\"},domProps:{\"value\":(_vm.input)},on:{\"keyup\":_vm.inputAuthcode,\"input\":function($event){if($event.target.composing){ return; }_vm.input=$event.target.value}}}),(_vm.second > 0)?_c('p',{staticClass:\"input_authcode-nofication\"},[_vm._v(_vm._s(_vm.second)+\" 秒后重新获取验证码\")]):_c('div',{staticClass:\"input_authcode-get_authcode_again\",on:{\"click\":_vm.popupAuthcodePop}},[_vm._v(\"收不到验证码点这里\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.authcodePopShow),expression:\"authcodePopShow\"}],staticClass:\"input_authcode-pop\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closeAuthcodePop($event)}}},[_c('div',{staticClass:\"input_authcode-pop-inner\"},[_c('div',{staticClass:\"pop-options\"},[_c('div',{staticClass:\"pop-options-item\",on:{\"click\":_vm.getAuthcodeAgain}},[_vm._v(\"重新获取验证码\")]),_c('div',{staticClass:\"pop-options-item\",on:{\"click\":_vm.getAuthcdeByPhone}},[_vm._v(\"接听语音验证码\")])]),_c('div',{staticClass:\"pop-cancel\",on:{\"click\":_vm.closeAuthcodePop}},[_vm._v(\"取消\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login-input_authcode\"\r\n        v-loading=\"loading\"\r\n    >\r\n        <header class=\"login-input_authcode-header\">\r\n            <div class=\"login-close iconfont icon-back-m\" @click=\"$router.go(-1)\"></div>\r\n            <router-link to=\"/help\">帮助</router-link>\r\n        </header>\r\n        <div class=\"login-input_authcode-main\">\r\n            <p class=\"login-input_authcode-main-title\">输入验证码 ({{authCode}})</p>\r\n            <!-- // * 验证码 -->\r\n            <div class=\"input_authcode\">\r\n                <p class=\"input_authcode-tips\">验证码已发送至 {{userPhone}}</p>\r\n                <input type=\"text\" class=\"input_authcode-input\"\r\n                    v-model=\"input\"\r\n                    @keyup=\"inputAuthcode\"\r\n                    maxlength=\"4\"\r\n                >\r\n                <p class=\"input_authcode-nofication\" v-if=\"second > 0\">{{second}} 秒后重新获取验证码</p>\r\n                <div class=\"input_authcode-get_authcode_again\" v-else @click=\"popupAuthcodePop\">收不到验证码点这里</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"input_authcode-pop\" v-show=\"authcodePopShow\" @click.self=\"closeAuthcodePop\">\r\n            <div class=\"input_authcode-pop-inner\">\r\n                <div class=\"pop-options\">\r\n                    <div class=\"pop-options-item\" @click=\"getAuthcodeAgain\">重新获取验证码</div>\r\n                    <div class=\"pop-options-item\" @click=\"getAuthcdeByPhone\">接听语音验证码</div>\r\n                </div>\r\n                <div class=\"pop-cancel\" @click=\"closeAuthcodePop\">取消</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { mapState, mapMutations } from 'vuex'\r\nimport mixin from '@/mixins/loginAuthcode.js'\r\n\r\nexport default {\r\n    name: 'LoginInputAuthcode',\r\n    mixins: [mixin],\r\n    data() { \r\n        return {\r\n            input: '',\r\n            loading: false,\r\n            second: 60,\r\n            authcodePopShow: false,\r\n            timer: '',\r\n            redirect: '',\r\n            authCode: '',\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState('login',{\r\n            userPhone: state => state.userPhone,\r\n        })\r\n    },\r\n    methods: {\r\n        ...mapMutations('login', [\r\n            'setUserPhone',\r\n        ]),\r\n        _initAuthInfo(){\r\n            this.authCode = this.fetchSesstionStorage('authInfo').authCode\r\n            this.second = 59 - parseInt((new Date().getTime() - this.fetchSesstionStorage('authInfo').startTime) / 1000)\r\n            this.redirect = this.fetchSesstionStorage('authInfo').redirect || '/'\r\n        },\r\n        countDown(){\r\n            let startTime = this.fetchSesstionStorage('authInfo').startTime\r\n            this.timer = setInterval(() => {\r\n                if(this.second <= 0){\r\n                    window.clearInterval(this.timer)\r\n                    return\r\n                }\r\n                this.second = 59 - parseInt((new Date().getTime() - startTime) / 100)\r\n            }, 1000);\r\n        },\r\n        inputAuthcode(){\r\n            if(this.input.length === 4) {\r\n                this.loading = true\r\n                let data = {\r\n                    userPhone: this.userPhone,\r\n                    authCode: this.input\r\n                }\r\n                axios.post('/api/login-authcode', data)\r\n                    .then(res => {\r\n                        let code = res.data.code\r\n                        console.log('code',code)\r\n                        // code 0: 通过, 1: 未注册, 2: 验证失败\r\n                        switch(code){\r\n                            case 0: \r\n                            case 1: {\r\n                                console.log('userPhone:',this.userPhone)\r\n                                this.$cookie.set('userPhone', this.userPhone, 3)\r\n                                this.$router.push(this.redirect)\r\n                                break\r\n                            }\r\n                            case 2: {\r\n                                this.$message.error('验证码错误, 请重新输入')\r\n                                this.input = ''\r\n                                break\r\n                            }\r\n                        }\r\n                    })\r\n                    .catch(err => console.log(err))\r\n                    .finally(() => this.loading = false)\r\n            }\r\n        },\r\n        popupAuthcodePop(){\r\n            this.authcodePopShow = true\r\n        },\r\n        closeAuthcodePop(){\r\n            this.authcodePopShow = false\r\n        },\r\n        getAuthcodeAgain(){\r\n            this.loading = true\r\n            // 请求验证码\r\n            this.requestAuthcode(\r\n                (res) => {\r\n                    this.authCode = res.data.authCode\r\n                    this.saveAuthInfo(this)\r\n                },\r\n                {},\r\n                () => {\r\n                    this.closeAuthcodePop()\r\n                    this.loading = false\r\n                }\r\n            )\r\n        },\r\n        getAuthcdeByPhone(){\r\n            this.$message.error('功能暂未推出')\r\n            this.closeAuthcodePop()\r\n        },\r\n    },\r\n    created() {\r\n        this._initAuthInfo()\r\n        this.countDown()\r\n    },\r\n    beforeRouteLeave (to, from, next) {\r\n        window.clearInterval(this.timer)\r\n        this.$destroy()\r\n        next()\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"~@/assets/css/mixin.less\";\r\n.login-input_authcode {\r\n    height: 100%;\r\n    &-header {\r\n        .flex-sb-center();\r\n        color: @color-primary;\r\n        .padding-horizontal(@padding-sm);\r\n        .padding-vertical(@padding-base);\r\n        background-color: @bg-white;\r\n    }\r\n    &-main {\r\n        background-color: #fff;\r\n        height: 100%;\r\n        .padding-top-rem(50px);\r\n        .padding-horizontal(30px);\r\n        &-title {\r\n            .font-size-rem(30px);\r\n            color: @text-color-title;\r\n        }\r\n        .input_authcode {\r\n            &-tips {\r\n                .font-size-rem(@font-size-sm);\r\n                color: #000;\r\n                .margin-top-rem(@margin-lg);\r\n            }\r\n            &-input {\r\n                .margin-top-rem(20px);\r\n                .padding-horizontal(16px);\r\n                border-bottom: 1px solid #000;\r\n                width: 100%;\r\n                .font-size-rem(20px);\r\n                line-height: 2em;\r\n            }\r\n            &-nofication {\r\n                .margin-top-rem(30px);\r\n                .font-size-rem(@font-size-sm);\r\n                \r\n            }\r\n            &-get_authcode_again {\r\n                .margin-top-rem(30px);\r\n                .font-size-rem(@font-size-sm);\r\n                color: @color-primary;\r\n            }\r\n        }\r\n    }\r\n    .input_authcode-pop {\r\n        @item-space: 12px;\r\n        @radius: 10px;\r\n        @border-divition: #ebeef5;\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: @zindex-modal;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(0, 0, 0, 0.2);\r\n        &-inner {\r\n            position: absolute;\r\n            bottom: @item-space;\r\n            left: @item-space;\r\n            right: @item-space;\r\n            .pop-options {\r\n                border: 1px solid  @border-divition;\r\n                overflow: hidden;\r\n                .pop-divition-style();\r\n                &-item {\r\n                    .pop-item-style();\r\n                    border-top: 1px solid  @border-divition;\r\n                    &:first-of-type {\r\n                        border-top: 0;\r\n                    }\r\n                }\r\n            }\r\n            .pop-cancel {\r\n                .pop-divition-style();\r\n                .pop-item-style();\r\n                .margin-top-rem(@item-space);\r\n            }\r\n        }\r\n    }\r\n}\r\n.pop-item-style() {\r\n    background-color: @bg-white;\r\n    line-height: 48px;\r\n    text-align: center;\r\n    color: #235fe9;\r\n}\r\n.pop-divition-style() {\r\n    border-radius: @radius;\r\n    box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginInputAuthcode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginInputAuthcode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginInputAuthcode.vue?vue&type=template&id=85c0b0e4&\"\nimport script from \"./LoginInputAuthcode.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginInputAuthcode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginInputAuthcode.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\r\n\r\nconst mixin = {\r\n    methods: {\r\n        saveAuthInfo(context){\r\n            let keyValue = {\r\n                startTime: new Date().getTime(),\r\n                authCode: context.authCode,\r\n                redirect: context.redirect\r\n            }\r\n            sessionStorage.setItem('authInfo', JSON.stringify(keyValue));\r\n        },\r\n        requestAuthcode(cb, errcb, finallycb){\r\n            axios.get('/api/create-authcode')\r\n                .then(res=>{\r\n                    if(res.data.authcodeReady){\r\n                        cb && cb(res)\r\n                    }\r\n                })\r\n                .catch(err=>{\r\n                    errcb && errcb()\r\n                    console.log(err)\r\n                })\r\n                .finally(() => finallycb && finallycb())\r\n        },\r\n        fetchSesstionStorage(key){\r\n            return JSON.parse(sessionStorage.getItem(key))\r\n        },\r\n    },\r\n}\r\n\r\nexport default mixin"],"sourceRoot":""}